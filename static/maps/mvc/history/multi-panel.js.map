{"version":3,"file":"multi-panel.js","sources":["../../../src/mvc/history/multi-panel.js"],"names":["define","HISTORY_MODEL","HPANEL_EDIT","historyCopyDialog","baseMVC","ajaxQueue","HistoryPanelColumn","Backbone","View","extend","LoggableMixin","tagName","className","id","this","model","get","initialize","options","purgeAllowed","_","isUndefined","panel","createPanel","setUpListeners","panelOptions","dragItems","HistoryPanelEdit","_renderEmptyMessage","__patch_renderEmptyMessage","$whereTo","newMsg","empty","$emptyMsg","$emptyMessage","isEmpty","hdaViews","hide","emptyMsg","contents","length","_l","searchFor","mixed","find","c","haveDetails","noneFoundMsg","append","show","column","once","trigger","setUpPanelListeners","listenTo","rendered","inView","viewLeft","viewRight","columnLeft","$el","offset","left","columnRight","width","$panel","$","render","speed","undefined","modelData","toJSON","html","template","renderPanel","setUpBehaviors","data","isCurrentHistory","currentHistory","controlsLeftTemplate","history","view","controlsRightTemplate","join","setElement","$list","before","_renderDropTargetHelp","events","click .switch-to.btn","setAsCurrent","click .delete-history","_delete","fail","xhr","status","error","alert","done","click .undelete-history","undelete","click .purge-history","confirm","purge","click .copy-history","copy","variable","toString","MultiPanelColumns","log","addClass","columnWidth","borderWidth","columnGap","headerHeight","footerHeight","controlsHeight","perPage","hdaQueue","NamedAjaxQueue","collection","columnMap","columnOptions","historySearch","datasetSearch","setCollection","histories","multipanel","on","fetch","limit","stopListening","HistoryCollection","setUpCollectionListeners","sort","silent","createColumns","clear","addModels","models","isArray","forEach","addColumn","_ajaxErrorHandler","add","all-fetched","_postFetchAll","new-current","addAsCurrentColumn","set-as-current","setCurrentHistory","change:deleted change:purged","handleDeletedHistory","renderColumns","remove","$scrollContainer","scrollLeft","oldCurrentColumn","findWhere","height","newCurrentColumn","currentHistoryId","_recalcFirstColumnHeight","includeDeleted","removeColumn","errArgs","toArray","arguments","window","Galaxy","handleErrors","apply","console","responseText","create","current","each","createColumn","config","allow_user_dataset_purge","setUpColumnListeners","searchItems","queueHdaFetchDetails","newColumn","queueHdaFetch","widthToRemove","fadeOut","checkColumnsInView","in-view","view:draggable:dragstart","ev","_dropData","JSON","parse","dataTransfer","getData","currentColumnDropTargetOn","view:draggable:dragend","currentColumnDropTargetOff","droptarget:drop","toCopy","filter","json","isCopyable","queue","content","name","fn","start","columnMapLength","Object","keys","sortedFilteredColumns","filters","sortedColumns","filtered","every","map","call","sorted","fxSpeed","mainTemplate","sortedAndFiltered","$middle","_calcMiddleWidth","appendTo","delegateEvents","renderColumn","allFetched","loadingIndicatorTemplate","numColumns","preventStackWidthAdj","xhrData","ids","values","storage","dataset_details","renderItems","running","details","renderInfo","msg","text","click .done.btn","click .create-new.btn","click #include-deleted","click .order .set-order","click #toggle-deleted","click #toggle-hidden","close","destination","root","galaxy_config","location","_clickToggleDeletedHistories","toggleDeletedHistories","currentTarget","is","toggleOptionsPopover","_clickToggleDeletedDatasets","toggleDeletedDatasets","i","delay","toggleShowDeleted","_clickToggleHiddenDatasets","toggleHiddenDatasets","toggleShowHidden","_chooseOrder","orderKey","orderDescriptions","setOrder","reset","slice","_scrollLeft","val","_moreOptionsPopover","searchInput","placeholder","onfirstsearch","onsearch","matchesAll","onclear","progress","curr","total","deferred","clearSearch","resize","debouncedInView","debounce","viewport","_viewport","checkForEndOfScroll","parent","scroll","popover","container","placement","optionsPopoverTemplate","$firstColumn","first","middleHeight","controlHeight","$outerMiddle","right","columnsInView","vp","END_PADDING","scrollRight","currentColumn","dataDropped","dropTargetOn","prototype","dataDrop","dropTarget","columns","update_time","update_time-asc","name-dsc","size","size-asc"],"mappings":"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"}